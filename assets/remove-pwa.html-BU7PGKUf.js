import{_ as l,r as s,c as r,a as t,b as e,e as a,w as p,d as i,o as c}from"./app-vjlVxZXw.js";const d={},h=e("h1",{id:"remove-pwa",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#remove-pwa"},[e("span",null,"remove-pwa")])],-1),u=e("p",null,"This plugin removes any related service worker from your VuePress site, so that users can still get updates if you removed any PWA plugin after enabling it.",-1),m={class:"custom-container tip"},y=e("p",{class:"custom-container-title"},"Why this plugin is needed if you used PWA plugin once?",-1),v=e("code",null,"@vuepress/plugin-pwa",-1),g=e("p",null,"However, if you remove pwa plugin, the old service worker will still be there, but they can never get an update because they can never found a new service worker to update to. So users will stay with the old version of your site.",-1),w=e("p",null,"To solve this problem:",-1),f=e("ol",null,[e("li",null,"A new service worker with empty contents shall be generated in the original place."),e("li",null,"The new service worker shall attempt to remove contents that old service worker cached, then it should unregister itself.")],-1),D=i(`<h2 id="usage" tabindex="-1"><a class="header-anchor" href="#usage"><span>Usage</span></a></h2><div class="language-bash" data-ext="sh" data-title="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">npm</span><span style="color:#CE9178;"> i</span><span style="color:#569CD6;"> -D</span><span style="color:#CE9178;"> @vuepress/plugin-remove-pwa@next</span></span>
<span class="line"></span></code></pre></div><div class="language-typescript" data-ext="ts" data-title="ts"><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#C586C0;">import</span><span style="color:#D4D4D4;"> { </span><span style="color:#9CDCFE;">removePwaPlugin</span><span style="color:#D4D4D4;"> } </span><span style="color:#C586C0;">from</span><span style="color:#CE9178;"> &#39;@vuepress/plugin-remove-pwa&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0;">export</span><span style="color:#C586C0;"> default</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#9CDCFE;">  plugins:</span><span style="color:#D4D4D4;"> [</span></span>
<span class="line"><span style="color:#DCDCAA;">    removePwaPlugin</span><span style="color:#D4D4D4;">({</span></span>
<span class="line"><span style="color:#6A9955;">      // options</span></span>
<span class="line"><span style="color:#D4D4D4;">    }),</span></span>
<span class="line"><span style="color:#D4D4D4;">  ],</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="options" tabindex="-1"><a class="header-anchor" href="#options"><span>Options</span></a></h2><h3 id="cacheprefix" tabindex="-1"><a class="header-anchor" href="#cacheprefix"><span>cachePrefix</span></a></h3><ul><li>Type: <code>string</code></li><li>Default: <code>&#39;workbox&#39;</code></li><li>Details: The cache prefix for the service worker.</li></ul><h3 id="swlocation" tabindex="-1"><a class="header-anchor" href="#swlocation"><span>swLocation</span></a></h3><ul><li>Type: <code>string</code></li><li>Default: <code>&#39;service-worker.js&#39;</code></li><li>Details: The location of the old service worker.</li></ul>`,8);function _(k,x){const o=s("NpmBadge"),n=s("RouteLink");return c(),r("div",null,[h,t(o,{package:"@vuepress/plugin-remove-pwa"}),u,e("div",m,[y,e("p",null,[a("PWA plugins like "),t(n,{to:"/plugins/pwa/"},{default:p(()=>[v]),_:1}),a(" register service worker to your site, which will cache your site and make it available offline.")]),g,w,f]),D])}const b=l(d,[["render",_],["__file","remove-pwa.html.vue"]]),E=JSON.parse('{"path":"/plugins/remove-pwa.html","title":"remove-pwa","lang":"en-US","frontmatter":{"description":"remove-pwa","head":[["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://ecosystem.vuejs.press/ecosystem/zh/plugins/remove-pwa.html"}],["meta",{"property":"og:url","content":"https://ecosystem.vuejs.press/ecosystem/plugins/remove-pwa.html"}],["meta",{"property":"og:site_name","content":"VuePress Ecosystem"}],["meta",{"property":"og:title","content":"remove-pwa"}],["meta",{"property":"og:description","content":"remove-pwa"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-02-20T02:57:55.000Z"}],["meta",{"property":"article:modified_time","content":"2024-02-20T02:57:55.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"remove-pwa\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-02-20T02:57:55.000Z\\",\\"author\\":[]}"],["link",{"rel":"alternate","type":"application/atom+xml","href":"https://ecosystem.vuejs.press/ecosystem/atom.xml","title":"VuePress Ecosystem Atom Feed"}],["link",{"rel":"alternate","type":"application/json","href":"https://ecosystem.vuejs.press/ecosystem/feed.json","title":"VuePress Ecosystem JSON Feed"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://ecosystem.vuejs.press/ecosystem/rss.xml","title":"VuePress Ecosystem RSS Feed"}]]},"headers":[{"level":2,"title":"Usage","slug":"usage","link":"#usage","children":[]},{"level":2,"title":"Options","slug":"options","link":"#options","children":[{"level":3,"title":"cachePrefix","slug":"cacheprefix","link":"#cacheprefix","children":[]},{"level":3,"title":"swLocation","slug":"swlocation","link":"#swlocation","children":[]}]}],"git":{"updatedTime":1708397875000,"contributors":[{"name":"Mr.Hope","email":"mister-hope@outlook.com","commits":3}]},"autoDesc":true,"filePathRelative":"plugins/remove-pwa.md"}');export{b as comp,E as data};
