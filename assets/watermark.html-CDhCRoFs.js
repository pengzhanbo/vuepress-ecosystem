import{_ as e,r as n,c as l,a as p,b as s,d as o,o as t}from"./app-vjlVxZXw.js";const r={},c=s("h1",{id:"watermark",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#watermark"},[s("span",null,"watermark")])],-1),i=o(`<p>将 <a href="https://github.com/zhensherlock/watermark-js-plus" target="_blank" rel="noopener noreferrer">watermark-js-plus</a> 到 VuePress 中。</p><p>此插件可在在页面中添加水印，可以选择为 全局页面 或 部分页面添加水印，还可以选择添加 文字水印 或 图片水印。</p><h2 id="使用" tabindex="-1"><a class="header-anchor" href="#使用"><span>使用</span></a></h2><div class="language-bash" data-ext="sh" data-title="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">npm</span><span style="color:#CE9178;"> i</span><span style="color:#569CD6;"> -D</span><span style="color:#CE9178;"> @vuepress/plugin-watermark@next</span></span>
<span class="line"></span></code></pre></div><div class="language-typescript" data-ext="ts" data-title="ts"><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#C586C0;">import</span><span style="color:#D4D4D4;"> { </span><span style="color:#9CDCFE;">watermarkPlugin</span><span style="color:#D4D4D4;"> } </span><span style="color:#C586C0;">from</span><span style="color:#CE9178;"> &#39;@vuepress/plugin-watermark&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0;">export</span><span style="color:#C586C0;"> default</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#9CDCFE;">  plugins:</span><span style="color:#D4D4D4;"> [</span></span>
<span class="line"><span style="color:#DCDCAA;">    watermarkPlugin</span><span style="color:#D4D4D4;">({</span></span>
<span class="line"><span style="color:#6A9955;">      // options</span></span>
<span class="line"><span style="color:#D4D4D4;">    }),</span></span>
<span class="line"><span style="color:#D4D4D4;">  ],</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="配置项" tabindex="-1"><a class="header-anchor" href="#配置项"><span>配置项</span></a></h2><h3 id="enabled" tabindex="-1"><a class="header-anchor" href="#enabled"><span>enabled</span></a></h3><ul><li><p>类型： <code>boolean | ((page: Page) =&gt; boolean)</code></p></li><li><p>默认值： <code>false</code></p></li><li><p>详情：</p><p>指定哪些页面需要添加水印。</p><p>拥有 <code>true</code> 值的页面将会被添加水印。</p></li></ul><h3 id="watermarkoptions" tabindex="-1"><a class="header-anchor" href="#watermarkoptions"><span>watermarkOptions</span></a></h3><ul><li><p>类型： <code>WatermarkOptions</code></p></li><li><p>默认值： <code>undefined</code></p></li><li><p>详情： 配置项请参考 <a href="https://zhensherlock.github.io/watermark-js-plus/zh/config/" target="_blank" rel="noopener noreferrer">watermark-js-plus</a>。</p></li></ul><h4 id="watermarkoptions-parent" tabindex="-1"><a class="header-anchor" href="#watermarkoptions-parent"><span>watermarkOptions.parent</span></a></h4><ul><li><p>类型： <code>string</code></p></li><li><p>默认值： <code>body</code></p></li><li><p>详情：添加水印的父元素选择器。</p><p>默认插入到 body 中，可以指定插入到页面的某个元素中。</p></li></ul><h3 id="delay" tabindex="-1"><a class="header-anchor" href="#delay"><span>delay</span></a></h3><ul><li><p>类型： <code>number</code></p></li><li><p>默认值： <code>500</code></p></li><li><p>详情：添加水印的延时。以毫秒为单位。</p><p>延迟时间取决于页面过渡动画时间，可以根据实际情况调整。</p><p>如果水印的父元素在切换页面时被重新渲染，那么延迟时间应该比页面过渡时间长一些。</p></li></ul><h2 id="frontmatter" tabindex="-1"><a class="header-anchor" href="#frontmatter"><span>Frontmatter</span></a></h2><h3 id="watermark-1" tabindex="-1"><a class="header-anchor" href="#watermark-1"><span>watermark</span></a></h3><ul><li><p>类型: <code>boolean | WatermarkOptions</code></p></li><li><p>详情：</p><p>当类型为 <code>boolean</code> 时，表示是否启用水印。</p><p>当类型为 <code>WatermarkOptions</code> 时，表示当前页面水印配置。</p><p>可以参考 <a href="https://zhensherlock.github.io/watermark-js-plus/zh/config/" target="_blank" rel="noopener noreferrer">watermark-js-plus</a> 。</p></li></ul><div class="language-markdown" data-ext="md" data-title="md"><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#D4D4D4;">---</span></span>
<span class="line"><span style="color:#569CD6;">watermark</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#569CD6;">  width</span><span style="color:#D4D4D4;">: </span><span style="color:#B5CEA8;">200</span></span>
<span class="line"><span style="color:#569CD6;">  height</span><span style="color:#D4D4D4;">: </span><span style="color:#B5CEA8;">200</span></span>
<span class="line"><span style="color:#569CD6;">  content</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">Your content</span></span>
<span class="line"><span style="color:#569CD6;">  opacity</span><span style="color:#D4D4D4;">: </span><span style="color:#B5CEA8;">0.5</span></span>
<span class="line"><span style="color:#D4D4D4;">---</span></span>
<span class="line"></span></code></pre></div><h2 id="客户端配置" tabindex="-1"><a class="header-anchor" href="#客户端配置"><span>客户端配置</span></a></h2><h3 id="definewatermarkconfig-config" tabindex="-1"><a class="header-anchor" href="#definewatermarkconfig-config"><span>defineWatermarkConfig(config)</span></a></h3><ul><li>类型： <code>(config: MaybeRefOrGetter&lt;WatermarkOptions&gt;) =&gt; void</code></li></ul><p>传递给 <a href="https://zhensherlock.github.io/watermark-js-plus/zh/config/" target="_blank" rel="noopener noreferrer">watermark-js-plus</a> 的额外配置。</p><div class="language-typescript" data-ext="ts" data-title="ts"><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#C586C0;">import</span><span style="color:#D4D4D4;"> { </span><span style="color:#9CDCFE;">defineWatermarkConfig</span><span style="color:#D4D4D4;"> } </span><span style="color:#C586C0;">from</span><span style="color:#CE9178;"> &#39;@vuepress/plugin-watermark/client&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA;">defineWatermarkConfig</span><span style="color:#D4D4D4;">({</span></span>
<span class="line"><span style="color:#6A9955;">  // 在此设置额外的 watermark 配置</span></span>
<span class="line"><span style="color:#D4D4D4;">})</span></span>
<span class="line"></span></code></pre></div><p>通常来说，大部分选项应该在 Node 中定义，但存在一些特殊情况。 比如需要在 <strong>深色/浅色 模式</strong> 下控制不同的 水印 透明度、字体颜色等， 或者需要传入如 <code>onSuccess</code>、<code>extraDrawFunc</code> 等回调函数。</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#C586C0;">import</span><span style="color:#D4D4D4;"> { </span><span style="color:#9CDCFE;">computed</span><span style="color:#D4D4D4;"> } </span><span style="color:#C586C0;">from</span><span style="color:#CE9178;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0;">export</span><span style="color:#C586C0;"> default</span><span style="color:#DCDCAA;"> defineClientConfig</span><span style="color:#D4D4D4;">({</span></span>
<span class="line"><span style="color:#DCDCAA;">  setup</span><span style="color:#D4D4D4;">() {</span></span>
<span class="line"><span style="color:#569CD6;">    const</span><span style="color:#4FC1FF;"> isDark</span><span style="color:#D4D4D4;"> = </span><span style="color:#DCDCAA;">useDarkMode</span><span style="color:#D4D4D4;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;">    const</span><span style="color:#4FC1FF;"> watermarkConfig</span><span style="color:#D4D4D4;"> = </span><span style="color:#DCDCAA;">computed</span><span style="color:#D4D4D4;">(() </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> ({</span></span>
<span class="line"><span style="color:#9CDCFE;">      fontColor:</span><span style="color:#9CDCFE;"> isDark</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">value</span><span style="color:#D4D4D4;"> ? </span><span style="color:#CE9178;">&#39;#fff&#39;</span><span style="color:#D4D4D4;"> : </span><span style="color:#CE9178;">&#39;#000&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#DCDCAA;">      onSuccess</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> () </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#9CDCFE;">        console</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">log</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&#39;success&#39;</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">      },</span></span>
<span class="line"><span style="color:#D4D4D4;">    }))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA;">    defineWatermarkConfig</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">watermarkConfig</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">  },</span></span>
<span class="line"><span style="color:#D4D4D4;">})</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,25);function d(D,m){const a=n("NpmBadge");return t(),l("div",null,[c,p(a,{package:"@vuepress/plugin-watermark"}),i])}const h=e(r,[["render",d],["__file","watermark.html.vue"]]),u=JSON.parse('{"path":"/zh/plugins/watermark.html","title":"watermark","lang":"zh-CN","frontmatter":{"description":"watermark","head":[["link",{"rel":"alternate","hreflang":"en-us","href":"https://ecosystem.vuejs.press/ecosystem/plugins/watermark.html"}],["meta",{"property":"og:url","content":"https://ecosystem.vuejs.press/ecosystem/zh/plugins/watermark.html"}],["meta",{"property":"og:site_name","content":"VuePress 生态系统"}],["meta",{"property":"og:title","content":"watermark"}],["meta",{"property":"og:description","content":"watermark"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-05-07T18:22:41.000Z"}],["meta",{"property":"article:modified_time","content":"2024-05-07T18:22:41.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"watermark\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-05-07T18:22:41.000Z\\",\\"author\\":[]}"],["link",{"rel":"alternate","type":"application/atom+xml","href":"https://ecosystem.vuejs.press/ecosystem/zh/atom.xml","title":"VuePress 生态系统 Atom Feed"}],["link",{"rel":"alternate","type":"application/json","href":"https://ecosystem.vuejs.press/ecosystem/zh/feed.json","title":"VuePress 生态系统 JSON Feed"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://ecosystem.vuejs.press/ecosystem/zh/rss.xml","title":"VuePress 生态系统 RSS Feed"}]]},"headers":[{"level":2,"title":"使用","slug":"使用","link":"#使用","children":[]},{"level":2,"title":"配置项","slug":"配置项","link":"#配置项","children":[{"level":3,"title":"enabled","slug":"enabled","link":"#enabled","children":[]},{"level":3,"title":"watermarkOptions","slug":"watermarkoptions","link":"#watermarkoptions","children":[]},{"level":3,"title":"delay","slug":"delay","link":"#delay","children":[]}]},{"level":2,"title":"Frontmatter","slug":"frontmatter","link":"#frontmatter","children":[{"level":3,"title":"watermark","slug":"watermark-1","link":"#watermark-1","children":[]}]},{"level":2,"title":"客户端配置","slug":"客户端配置","link":"#客户端配置","children":[{"level":3,"title":"defineWatermarkConfig(config)","slug":"definewatermarkconfig-config","link":"#definewatermarkconfig-config","children":[]}]}],"git":{"updatedTime":1715106161000,"contributors":[{"name":"pengzhanbo","email":"q942450674@outlook.com","commits":1},{"name":"pengzhanbo","email":"volodymyr@foxmail.com","commits":1}]},"autoDesc":true,"filePathRelative":"zh/plugins/watermark.md"}');export{h as comp,u as data};
